function PsMemberSearch(){this.cur_req_string=""}var ps_membersearch=new PsMemberSearch;PsMemberSearch.prototype.init=function(){var a=this;jQuery(".member-search-toggle").each(function(b,c){var d=jQuery("#ps-member-search-html").clone(),e=jQuery("input[name=query]",d),f=jQuery(c).psnotification({view_all_link:"javascript: ps_membersearch.view_all();",source:"membersearch.search",request:{per_page:10},fetch:function(b){return a.cur_req_string=this.popover_header.find("input").serialize(),b=a.cur_req_string},paging:!1,lazy:!0,header:d}).on("notifications.shown",function(a,b){jQuery(".member-search-notice",d).toggleClass("hidden",b.popover_list.find("li").length>0)});f=f.data("plugin_psnotification"),e.on("keyup",_.debounce(function(a){var b=jQuery(a.target),c=jQuery.trim(b.val());return c?void b.closest(".member-search-toggle").psnotification("refresh"):void f.popover_list.find("li").remove()},250))})},PsMemberSearch.prototype.view_all=function(){window.location=peepsodata.members_page+"?"+this.cur_req_string},jQuery(document).ready(function(){ps_membersearch.init()});